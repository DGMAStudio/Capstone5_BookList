<%-include("partials/header.ejs")%>

<section id="home-page">

<div class="container-fluid my-4 px-5">
  <div class="row row-cols-1 g-4">
    <% books.forEach(book => { %>
      <div class="col">
        <div class="card border border-dark shadow-sm">
          <div class="row g-0">
            <!-- Book Image -->
            <div class="col-md-3 d-flex align-items-center justify-content-center p-2">
              <img src="<%= book.image %>" class="img-fluid border border-dark" alt="Book Cover">
            </div>

            <!-- Book Info -->
            <div class="col-md-9">
              <div class="card-body">
                <h5 class="card-title border-bottom border-dark pb-2"><%= book.title %></h5>

                <!-- Summary -->
                <p class="card-text p-2" style="max-height: 180px; overflow-y: auto;">
                  <%= book.summary %>
                </p>

                <!-- Meta -->
                <div class="d-flex flex-wrap justify-content-between mb-3 fw-bold">
                  <span class="text-success">AUTHOR: <%= book.author %></span>
                  <span class="text-primary">DATE: <%= book.date.slice(0, 10) %></span>
                  <span class="text-warning">RATING: <%= book.rating %>/10</span>
                </div>

                <!-- Buttons in forms -->
                <div class="d-flex gap-2">
                  <!-- Delete Form -->
                  <form action="/delete" method="POST">
                    <input type="hidden" name="id" value="<%= book.id %>">
                    <button class="btn btn-danger btn-sm">DELETE</button>
                  </form>

                  <!-- Edit Form -->
                <form action="/edit" method="POST">
                  <input type="hidden" name="id" value="<%= book.id %>">
                  <button class="btn btn-primary btn-sm">EDIT</button>
                </form>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>

</section>

<%-include("partials/footer.ejs")%>